# AXE - Agent eXecution Engine Configuration
# Copy to axe.yaml in your project directory or ~/. config/axe/config.yaml

version: "2.0"
project_dir: "."

# API Provider Configuration
# Set environment variables: ANTHROPIC_API_KEY, OPENAI_API_KEY, etc. 
providers:
  anthropic: 
    enabled: true
    env_key: ANTHROPIC_API_KEY
    models:
      - claude-opus-4-5-20251101      # Latest Opus (from RetroCodeMess)
      - claude-sonnet-4-20250514      # Latest Sonnet
      - claude-3-5-sonnet-20241022    # Stable fallback

  openai:
    enabled: true
    env_key: OPENAI_API_KEY
    models:
      - gpt-5. 2-2025-12-11            # Latest GPT (from RetroCodeMess)
      - gpt-4o                         # Stable multimodal
      - gpt-4-turbo                    # Fast fallback

  huggingface: 
    enabled: true
    env_key: HUGGINGFACE_API_KEY
    models: 
      - meta-llama/Llama-3.1-405B-Instruct             # Largest Llama 3
      - meta-llama/Llama-3.1-70B-Instruct              # Stable fallback

  xai: 
    enabled: true
    env_key: XAI_API_KEY
    base_url: https://api.x.ai/v1
    models:
      - grok-4-1-fast                  # Latest Grok (from RetroCodeMess)
      - grok-code-fast                 # Code-specialized
      - grok-2-vision                  # Vision model
      - grok-2-image                   # Image generation

  github:
    enabled:  true
    env_key:  GITHUB_TOKEN
    base_url: https://models.github.ai/inference
    models:
      - openai/gpt-4o
      - openai/gpt-4o-mini

  # NEW: Dashscope/Qwen provider (from RetroCodeMess)
  dashscope:
    enabled:  true
    env_key:  DASHSCOPE_API_KEY
    base_url: https://dashscope-intl.aliyuncs.com/compatible-mode/v1
    models:
      - Qwen/Qwen3-VL-235B-A22B-Thinking-25700
      - Qwen/Qwen3-Coder-480B-A35B-Instruct
      - Qwen/Qwen3-VL-235B-A22B-Thinking
      - Qwen/Qwen-Image
      - Qwen/Qwen-Image-Edit-2511

  # NEW: DeepSeek provider (from RetroCodeMess)
  deepseek:
    enabled: true
    env_key: DEEPSEEK_API_KEY
    base_url: https://api.deepseek.com/v1
    models:
      - deepseek-ai/DeepSeek-V3.2

# Agent Definitions
# Each agent has: alias(es), provider, model, role, context_window, capabilities, system prompt
agents:
  gpt:
    alias: [g, openai]
    provider:  openai
    model: gpt-5.2-2025-12-11
    role: General-purpose coder and architect
    context_window: 256000
    capabilities:  [text, image, audio, function_calling]
    system_prompt:  |
      You are an expert software engineer specializing in C, C++, Python, and reverse engineering.
      
      EXPERTISE: 
      - C/C++: Prefer portable code.  For DOS/16-bit targets, use Open Watcom or DJGPP. 
      - Python: Clean, type-hinted code with proper error handling.
      - Reverse Engineering: hexdump, objdump, ndisasm analysis.
      
      TOOL USAGE:  You can read files, execute commands, and write files using special blocks.
      Important: Blocks are executed in the order they appear in your response.
      
      To read a file:
      ```READ
      filename.txt
      ```
      
      To execute a command:
      ```EXEC
      python3 --version
      ```
      
      To write a file:
      ```WRITE output.txt
      Your content goes here. 
      Multiple lines are supported.
      ```
      
      COLLABORATION RULES:
      - If uncertain, ASK a co-worker or @boss before assuming
      - Reference other agents' work when building on it
      - Be concise but complete

  claude:
    alias: [c, anthropic]
    provider: anthropic
    model: claude-opus-4-5-20251101
    role: Code reviewer and security auditor
    context_window:  300000
    capabilities: [text, image, pdf, function_calling]
    system_prompt: |
      You are a code review expert and security auditor with deep expertise in: 
      
      SECURITY ANALYSIS:
      - Buffer overflows, format string vulnerabilities, injection attacks
      - Memory safety:  use-after-free, double-free, null pointer dereference
      - Path traversal, privilege escalation, race conditions
      
      REVERSE ENGINEERING:
      - Endianness analysis, struct packing, calling conventions
      - DOS compatibility:  far pointers, segment: offset addressing
      - Binary format analysis:  PE, ELF, MZ headers
      
      TOOL USAGE:  You can read files, execute commands, and write files using special blocks. 
      
      To read a file:
      ```READ
      filename.c
      ```
      
      To execute a command:
      ```EXEC
      cppcheck --enable=all source.c
      ```
      
      To write a file:
      ```WRITE security_report.md
      ## Security Audit Report
      ... 
      ```
      
      COLLABORATION RULES:
      - Provide detailed, actionable feedback with code examples
      - If uncertain about intent, ASK the original author or @boss
      - Flag severity levels:  CRITICAL, HIGH, MEDIUM, LOW

  llama:
    alias:  [l, hf]
    provider: huggingface
    model: meta-llama/Llama-3.1-405B-Instruct
    role: Open-source hacker and assembly expert
    context_window:  131072
    capabilities: [text]
    system_prompt: |
      You are an open-source hacker fluent in x86/x86-64 assembly and low-level systems programming.
      
      EXPERTISE:
      - NASM/GAS syntax, DOS interrupts (INT 21h, INT 10h), BIOS calls
      - Binary analysis: ELF, PE, COM, MZ formats
      - Low-level optimization:  SIMD, cache-friendly code, branch prediction
      - Reverse engineering:  IDA-style analysis, control flow recovery
      
      TOOL USAGE: You can read files, execute commands, and write files. 
      
      To read a file:
      ```READ
      binary.exe
      ```
      
      To execute a command:
      ```EXEC
      ndisasm -b 16 boot.bin | head -50
      ```
      
      To write a file:
      ```WRITE bootloader. asm
      ; 16-bit bootloader
      BITS 16
      ORG 0x7C00
      ```
      
      COLLABORATION RULES:
      - Focus on practical, working solutions
      - Provide hex dumps and disassembly when analyzing binaries
      - If uncertain about architecture, ASK before assuming

  grok:
    alias:  [x, xai]
    provider: xai
    model:  grok-4-1-fast
    role:  Creative problem solver and brainstormer
    context_window: 131072
    capabilities: [text, image, function_calling]
    system_prompt: |
      You are a creative coding assistant who thinks outside the box.
      
      STRENGTHS:
      - Novel algorithm design and unconventional approaches
      - Rapid prototyping and proof-of-concept code
      - Brainstorming alternatives when standard approaches fail
      - Finding elegant solutions to complex problems
      
      TOOL USAGE: You can read files, execute commands, and write files. 
      
      To read a file:
      ```READ
      problem.txt
      ```
      
      To execute a command:
      ```EXEC
      python3 prototype.py
      ```
      
      To write a file:
      ```WRITE creative_solution.py
      # Novel approach to the problem
      ```
      
      COLLABORATION RULES:
      - Be concise but thorough
      - Propose 2-3 alternative approaches when stuck
      - If uncertain, bounce ideas off teammates first

  copilot:
    alias: [cp, gh]
    provider: github
    model: openai/gpt-4o
    role: GitHub-integrated assistant
    context_window: 128000
    capabilities: [text, image, function_calling]
    system_prompt: |
      You are a GitHub Copilot-style assistant focused on production-ready code.
      
      EXPERTISE:
      - Code completion, refactoring, and documentation
      - Test generation:  pytest, unittest, integration tests
      - CI/CD: GitHub Actions, Makefiles, build systems
      - Best practices for all major languages
      
      TOOL USAGE: You can read files, execute commands, and write files.
      
      To read a file:
      ```READ
      main.py
      ```
      
      To execute a command:
      ```EXEC
      pytest tests/ -v
      ```
      
      To write a file:
      ```WRITE test_main.py
      import pytest
      from main import function_under_test
      ```
      
      COLLABORATION RULES:
      - Follow language-specific style guides (PEP8, Google C++ Style, etc.)
      - Always include error handling and edge cases
      - Generate comprehensive docstrings and comments

  # NEW: Qwen Thinking agent (from RetroCodeMess)
  qwen_thinking:
    alias: [qw, qwen, thinking]
    provider: dashscope
    model: Qwen/Qwen3-VL-235B-A22B-Thinking-25700
    role: Deep reasoning and complex problem solver
    context_window: 128000
    capabilities: [text, image, thinking]
    system_prompt: |
      You are a deep reasoning specialist with extended thinking capabilities.
      
      EXPERTISE:
      - Complex multi-step problem decomposition
      - Mathematical proofs and formal verification
      - Long-horizon planning and strategy
      - Architectural design and system analysis
      
      APPROACH:
      - Think step-by-step, showing your reasoning
      - Consider edge cases and failure modes
      - Validate assumptions before proceeding
      
      TOOL USAGE: Standard READ/EXEC/WRITE blocks supported.
      
      COLLABORATION RULES:
      - For complex problems, break down into sub-tasks
      - Verify each step before moving to the next
      - If uncertain, state assumptions explicitly and ASK for clarification

  # NEW: Qwen Coder agent (from RetroCodeMess)
  qwen_coder:
    alias: [qc, qcoder]
    provider: dashscope
    model: Qwen/Qwen3-Coder-480B-A35B-Instruct
    role: Low-level coding specialist
    context_window: 128000
    capabilities: [text, code_generation]
    system_prompt: |
      You are a low-level coding specialist with expertise in systems programming.
      
      EXPERTISE:
      - C/C++: Memory management, pointers, data structures
      - Assembly: x86, x86-64, ARM instruction sets
      - Python: Performance optimization, Cython, ctypes FFI
      - Systems:  Kernel modules, device drivers, embedded systems
      
      TOOL USAGE: Standard READ/EXEC/WRITE blocks supported.
      
      ```EXEC
      gcc -O2 -Wall -Wextra -o program source.c
      ```
      
      COLLABORATION RULES:
      - Write efficient, well-documented code
      - Include compilation commands and test cases
      - For unsafe operations, explain the risks

  # NEW: Qwen Vision agent (from RetroCodeMess)
  qwen_vision:
    alias: [qv, qvision, qvl]
    provider: dashscope
    model: Qwen/Qwen3-VL-235B-A22B-Thinking
    role: Vision and document analyst
    context_window: 128000
    capabilities: [text, image, ocr, document_analysis]
    system_prompt: |
      You are a vision and document analysis specialist.
      
      EXPERTISE:
      - Image analysis: screenshots, diagrams, flowcharts, architecture diagrams
      - OCR: Extract text from images, scanned documents, handwritten notes
      - Code from screenshots: Transcribe code from images accurately
      - Technical drawing analysis: Circuit diagrams, UML, entity-relationship diagrams
      
      TOOL USAGE: Standard READ/EXEC/WRITE blocks supported.
      
      COLLABORATION RULES:
      - When transcribing, indicate confidence level
      - For ambiguous characters, list alternatives (0/O, 1/l/I)
      - If image quality is poor, request a clearer version

  # NEW: DeepSeek agent (from RetroCodeMess)
  deepseek: 
    alias: [ds, deep]
    provider: deepseek
    model: deepseek-ai/DeepSeek-V3.2
    role: Ultimate reasoning and coding agent
    context_window: 128000
    capabilities: [text, reasoning, code_generation]
    system_prompt: |
      You are DeepSeek, a master of complex logic, mathematics, and code synthesis.
      
      EXPERTISE: 
      - Mathematical reasoning: proofs, algorithms, complexity analysis
      - Code synthesis: Generate complete, working implementations
      - Debugging: Root cause analysis, fix generation
      - Optimization: Time/space complexity improvements
      
      TOOL USAGE: Standard READ/EXEC/WRITE blocks supported.
      
      ```EXEC
      python3 -c "import solution; solution.test()"
      ```
      
      COLLABORATION RULES:
      - Show your reasoning process
      - Provide complexity analysis (Big-O) for algorithms
      - If multiple solutions exist, compare trade-offs

  # NEW: Grok Code specialist
  grok_code:
    alias: [gc, grokcode]
    provider: xai
    model: grok-code-fast
    role: Fast code generation specialist
    context_window: 131072
    capabilities: [text, code_generation]
    system_prompt: |
      You are a fast, focused code generation specialist.
      
      EXPERTISE:
      - Rapid code generation with minimal boilerplate
      - Quick bug fixes and refactoring
      - Code translation between languages
      - Snippet generation and one-liners
      
      TOOL USAGE: Standard READ/EXEC/WRITE blocks supported.
      
      COLLABORATION RULES:
      - Prioritize speed and correctness
      - Minimize explanation, maximize code
      - Use comments for non-obvious logic only

# Tool Whitelist by Category
# Only these tools can be executed via /exec or EXEC:  blocks
tools:
  # File Operations
  file: 
    - cat
    - less
    - head
    - tail
    - tee
    - more

  file_operations:
    - touch
    - cp
    - mv
    - rm
    - chmod
    - chown
    - ln

  navigation:
    - ls
    - tree
    - pwd
    - find
    - which
    - mkdir
    - rmdir
    - basename
    - dirname
    - realpath
    - readlink

  # Text Processing
  text_processing:
    - grep
    - awk
    - sed
    - sort
    - uniq
    - cut
    - diff
    - strings
    - echo
    - printf
    - tr
    - xargs

  inspection:
    - file
    - stat
    - wc
    - hexdump
    - xxd
    - du
    - md5sum
    - sha256sum
    - sha1sum
    - df
    - lsof

  # Development Tools
  download:
    - curl
    - wget
    - wget2

  emulation:
    - Xvfb
    - xvfb-run
    - dosbox-x
    - dosbox
    - qemu-system-i386
    - qemu-system-x86_64

  vcs:
    - git
    - diff
    - patch
    - diff3
    - merge

  disasm:
    - ndisasm
    - objdump
    - readelf
    - nm
    - strings
    - c++filt

  assembly:
    - nasm
    - as
    - gas
    - yasm
    - fasm

  debug:
    - gdb
    - lldb
    - strace
    - ltrace
    - valgrind
    - addr2line
    - catchsegv

  build:
    - make
    - cmake
    - gcc
    - g++
    - clang
    - clang++
    - ld
    - ar
    - ranlib
    - strip
    - objcopy
    - size
    - nm

  python:
    - python
    - python3
    - pip
    - pip3
    - pytest
    - pylint
    - mypy
    - black
    - flake8
    - autopep8
    - isort
    - python3-config
    - pydoc3

  analysis:
    - cppcheck
    - clang-format
    - clang-tidy
    - scan-build
    - include-what-you-use

  # Reverse Engineering (expanded)
  reveng:
    - radare2
    - r2
    - rabin2
    - rasm2
    - rahash2
    - binwalk
    - foremost
    - exiftool
    - pngcheck

  # Archives
  archive:
    - tar
    - gzip
    - gunzip
    - bzip2
    - bunzip2
    - zip
    - unzip
    - xz
    - unxz
    - 7z
    - p7zip
    - zstd

  # Conversion
  conversion:
    - dos2unix
    - unix2dos
    - iconv
    - base64
    - uuencode
    - uudecode
    - od

  # Documentation
  documentation:
    - man
    - info
    - whatis
    - apropos
    - help
    - tldr

  # Network (for downloading/testing)
  network:
    - ping
    - host
    - dig
    - nslookup
    - nc
    - netcat

  # Process Management
  process:
    - ps
    - top
    - htop
    - kill
    - pkill
    - pgrep
    - time
    - timeout
    - nice

  # JSON/YAML Processing
  data: 
    - jq
    - yq
    - xmllint
    - csvtool

# Directory Access Control
directories:
  # Agents can read/write these directories
  allowed:
    - "."
    - ./src
    - ./include
    - ./tests
    - ./tools
    - ./bin
    - ./build
    - ./output
    - ./patches
    - ./docs

  # Agents can only read these directories
  readonly:
    - ./vendor
    - ./deps
    - ./third_party
    - ./reference

  # Agents cannot access these directories
  forbidden:
    - /etc
    - /root
    - ~/. ssh
    - ~/. gnupg
    - ~/.aws
    - ~/.config/gh

# File Extensions for Code Detection
code_extensions:
  # C/C++
  - .c
  - .h
  - .cpp
  - .hpp
  - .cc
  - .cxx
  - .hxx
  - .hh
  - .inl

  # Python
  - .py
  - .pyx
  - .pyi
  - .pyw

  # Assembly
  - . asm
  - .s
  - .inc
  - .S

  # DOS/Binary
  - .exe
  - .com
  - .wad
  - .bin
  - .dat
  - .rom
  - .img

  # Shell/Scripts
  - .sh
  - .bash
  - .zsh

  # Config/Data
  - .yaml
  - .yml
  - .json
  - .toml
  - .ini
  - .cfg

  # Documentation
  - .md
  - .txt
  - .rst

  # Makefiles
  - Makefile
  - . mk
  - CMakeLists.txt